# ETHIC
Αποθετήριο με οδηγίες κατασκευής και πηγαίο κώδικα για το έργο " Έξυπνο Θερμοκήπιο Υδροπονικής Καλλιέργειας "<br>
**Ομάδα:** ΚΟΤΣΑΝΙΑ Α.Ε. <br/>
**Σχολείο:** 1ο ΕΠΑ.Λ. Πρέβεζας - Ε.Κ. Πρέβεζας (2019-20, 2020-21)<br/>
**Τίτλος έργου:** Έξυπνο Θερμοκήπιο Υδροπονικής Καλλιέργειας (Ε.Θ.Υ.Κ.)<br/> 
<br/>

Στάδια υλοποίησης του έργου
===========================
01/12/19 - 20/12/19 : <a href="en1.md">Αρχικός σχεδιασμός ιδέας</a><br/>
08/01/20 - 18/01/20 : <a href="en2.md">Σχεδιασμός Hardware</a><br/>
19/01/20 - 29/01/20 : <a href="en3.md">Σχεδιασμός 3D εξαρτημάτων και εκτύπωση στον 3D printer</a><br/>
23/01/20 - 30/01/20 : <a href="en4.md">Μελέτη πρωτοκόλλου LoRa WAN και κατασκευή του δικού μας απλοποιημένου LoRa WAN Lite</a><br>
01/02/20 - 18/02/20 : Παραγγελία υλικών και ηλεκτρονικών εξαρτημάτων - Έναρξη κατασκευής σκελετού<br>
19/02/20 - 19/02/20 : <a href="en6.md">Επίσκεψη σε θερμοκήπιο υδροπονικής καλλιέργειας</a><br/>
20/02/20 - 20/03/20 : Κατασκευή μηχανικών μερών, συστήματος άρδευσης<br/>
............ Διακοπή εργασιών λόγω της πανδημίας ...................<br>
Απρίλιος '21 : Κατασκευή υδραυλικών - αρδευτικών συστημάτων.<br> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-//-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: Δοκιμές άρδευσης.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-//-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: Κατασκευή συστήματος σκίασης - Δοκιμές.<br>
Μάϊος '21    : Πέρασμα καλωδίωσης - ηλεκτρολογική εγκατάσταση.<br>
    -//-     : Τοποθέτηση συστημάτων ποτίσματος - δοκιμές.<br>
    -//-     : Τοποθέτηση νάυλον.<br>
Ιούνιος '21  : Διόρθωση αρχικών σχεδίων.<br>
    -//-     : <a href="en15.md">Κατασκευή πρωτότυπου ηλεκτρονικού κυκλώματος σε perfboard.</a><br>
    -//-     : Δοκιμές του πρωτοκόλλου LoRa WAN Lite. <br>
<br>
<div align="center">
<img src="resources/images/frame1.jpg" width="600"><br/>
<img src="resources/images/ergasia1.jpg" width="600"><br/>
<img src="resources/images/ydreysi1.jpg" width="600"><br/>
<img src="resources/images/ydreysi3.jpg" width="600"><br/>
</div>

Περιγραφή έργου - Στόχοι
========================
Η ομάδα μας θα κατασκευάσει <b>μακέτα</b> σύγχρονου θερμοκηπίου υδροπονικής καλλιέργειας το οποίο θα ελέγχεται εξ' ολοκλήρου από Η/Υ. Το σύστημα εκτός από την δυνατότητα τηλεχειρισμού των λειτουργιών, θα έχει την δυνατότητα λήψης αποφάσεων ώστε να τηρούνται οι κατάλληλες συνθήκες για την σωστή ανάπτυξη των φυτών. Επιπλέον θα υπάρχει η δυνατότητα αποθήκευσης και γραφικής προβολής όλων των δεδομένων ώστε ο παραγωγός να μπορεί να συσχετίζει την εξέλιξη της παραγωγής σε συνάρτηση με τις συνθήκες του θερμοκηπίου. Έτσι θα μπορεί να δημιουργήσει μια βάση δεδομένων από την οποία θα αντλεί χρήσιμες πληροφορίες για το κάθε είδος ώστε να μεγιστοποιηθεί η παραγωγή.

Είμαστε μαθητές της Β' τάξης του τομέα πληροφορικής του 1ου ΕΠΑ.Λ. Πρέβεζας. Η υλοποίηση του έργου θα γίνει στα εργαστήρια του 1ου Ε.Κ. Πρέβεζας μετά την λήξη του διδακτικού ωραρίου.

Συμμετέχοντες μαθητές
=====================
<ul>
 <li>Θεοφάνους Ευαγγελία</li>
 <li>Λίτσι Θωμάς</li>
 <li>Μιχαηλίδης Γιώργος</li>
 <li>Νέσσερης Θοδωρής</li>
</ul>

Υπεύθυνος καθηγητής: Σταύρος Φώτογλου ΠΕ86 πληροφορικής

Αρχικός Σχεδιασμός
==================

Θα κατασκευάσουμε μια μακέτα θερμοκηπίου από νάυλον διαστάσεων περίπου 100cm x 50cm x60cm. Μέσα θα τοποθετηθούν όλα τα εξαρτήματα και οι συσκευές που χρησιμοποιούνται σε ένα πραγματικό θερμοκήπιο. Συγκεκριμένα θα βάλουμε τα εξής:  
1.	Στοιχεία θέρμανσης του αέρα
2.	Αυτόματο πότισμα
3.  Εξαερισμό με ανεμιστήρες
4.  Σύστημα αυτόματης σκίασης
5.  Σύστημα ελέγχου των παραθύρων

Ένα πλήθος αισθητήρων θα τροφοδοτεί με δεδομένα τον κεντρικό Η/Υ ώστε να λαμβάνονται οι αποφάσεις για τον έλεγχο των παραπάνω συσκευών. Θα τοποθετήσουμε αισθητήρες:
1.  Θερμοκρασίας
2.  Ηλιοφάνειας
3.  PH
4.  Ποτίσματος
5.  Υγρασίας αέρα

<p>Στην φωτογραφία φαίνονται οι αισθητήρες που χρησιμοποιήσαμε στο θερμοκήπιο:</p>
<p align="center"><img src="/resources/images/sensors.png" width="700"></p>

Μέσα στο σπογγώδες υπόστρωμα θα φυτέψουμε φυτά ώστε να κάνουμε τις δοκιμές μας σε πραγματικές συνθήκες.

Επειδή το θερμοκήπιο μπορεί να είναι απομακρυσμένο και να μην υπάρχει δυνατότητα σύνδεσης με το διαδίκτυο (εκτός από δίκτυα 3G-4G-5G τα οποία έχουν και το ανάλογο κόστος χρήσης), θα χρησιμοποιήσουμε το σύστημα μετάδοσης LO.RA. για την επικοινωνία με τον 2ο χώρο π.χ. το σπίτι του παραγωγού, όπου θα υπάρχει σύνδεση με το διαδίκτυο. Το σύστημα LO.RA. μπορεί να καλύψει μεγάλες αποστάσεις (έως 30Km) για χαμηλούς ρυθμούς μετάδοσης. Επειδή το θερμοκήπιό μας δεν στέλνει και πολλά δεδομένα από τους αισθητήρες του, το πρωτόκολλο LORA WAN είναι ιδανικό. Σήμερα λειτουργούν αρκετά δίκτυα LORA WAN σε όλο τον κόσμο και χρησιμοποιούνται σε συστήματα IOT όταν είναι απομακρυσμένα και θέλουμε χαμηλή κατανάλωση ενέργειας.  

<p align = "center">
<img src="/resources/images/BlockDiagram_1.png" width="700">
</p>

Όπως φαίνεται στο σχήμα στο θερμοκήπιο (Χώρος Β') υπάρχουν όλοι οι αισθητήρες και οι ενεργοποιητές οι οποίοι συνδέονται σ' ένα arduino. Επίσης στο arduino συνδέεται ένα άρθρωμα LORA το οποίο στέλνει τα δεδομένα και δέχεται εντολές από τον κεντρικό υπολογιστή ο οποίος βρίσκεται στον χώρο Α'. Ο κώδικας στο arduino θα γραφτεί σε Wiring. Τα δεδομένα είναι κωδικοποιημένα και κρυπτογραφημένα σύμφωνα με το πρωτόκολλο LORA WAN. 

Από την άλλη πλευρά (Χώρος Α΄), υπάρχει μια απλή πύλη LORA WAN η οποία στέλνει τα δεδομένα στο διαδίκτυο με το πρωτόκολλο MQTT. Στη πύλη μπορούν να συνδεθούν περισσότερα θερμοκήπια και να διαχειρίζονται από το ίδιο ή διαφορετικούς servers. Το λογισμικό της πύλης ενώ αρχικά το γράψαμε σε micropython, παρουσιάστηκαν προβλήματα καθυστέρησης και εδώ οι χρόνοι είναι κρίσιμοι. Έτσι το μεταφέραμε και αυτό σε wiring. 

Τέλος ο εξυπηρετητής μπορεί να είναι οποιοσδήποτε υπολογιστής με Linux, στον οποίο θα τρέχει το mosquitto (MQTT Broker) και το Node Red. Εδώ μπορούμε να προσθέσουμε και μερικά δικά μας script σε Python τα οποία θα ακούν ή θα δημοσιεύουν σε mqtt topics. Εμείς για εξυπηρετητή σκοπεύουμε να χρησιμοποιήσουμε ένα Raspberry PI 3 ή 4.

Το έργο μπορεί να χρησιμοποιηθεί ως εποπτικό μέσο για την διδασκαλία των τεχνολογιών IOT σε μαθητές των τομέων Πληροφορικής, Ηλεκτρονικής - Ηλεκτρολογίας καθώς και για την μελέτη σύγχρονων καλλιεργητικών μεθόδων από μαθητές του τομέα Γεωπονίας και Τροφίμων.

<p align="center">
<a href="https://www.youtube.com/watch?v=1o03MPI0b7I" title="Μετάβαση"><img src="https://img.youtube.com/vi/1o03MPI0b7I/0.jpg"></a>
</p>

